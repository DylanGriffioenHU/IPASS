<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IPASS Dylan Griffioen: ADXL345 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IPASS Dylan Griffioen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_a_d_x_l345-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ADXL345 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ADXL345:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_a_d_x_l345.png" usemap="#ADXL345_map" alt=""/>
  <map id="ADXL345_map" name="ADXL345_map">
<area href="classi2c__ipass.html" alt="i2c_ipass" shape="rect" coords="0,0,67,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f24a0c258b40d1b6c54261acc6e79a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#a3f24a0c258b40d1b6c54261acc6e79a5">ADXL345</a> (const hwlib::i2c_bus_bit_banged_scl_sda &amp;i2c_bus, const uint8_t &amp;device_id, const int &amp;x_offset, const int &amp;y_offset, const int &amp;z_offset)</td></tr>
<tr class="memdesc:a3f24a0c258b40d1b6c54261acc6e79a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the constructor for an <a class="el" href="class_a_d_x_l345.html">ADXL345</a> object.  <a href="#a3f24a0c258b40d1b6c54261acc6e79a5">More...</a><br /></td></tr>
<tr class="separator:a3f24a0c258b40d1b6c54261acc6e79a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762c890b72f430c8a138a70222691c70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#a762c890b72f430c8a138a70222691c70">setup</a> (const bool &amp;start_in_measure_mode)</td></tr>
<tr class="memdesc:a762c890b72f430c8a138a70222691c70"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function writes the offset data to the offset registers and can put the sensor in measure mode base on the start_in_measure_mode varible.  <a href="#a762c890b72f430c8a138a70222691c70">More...</a><br /></td></tr>
<tr class="separator:a762c890b72f430c8a138a70222691c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc6b9e9d5ea660d472b7d1663ee7805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#adcc6b9e9d5ea660d472b7d1663ee7805">set_measuring_mode</a> ()</td></tr>
<tr class="memdesc:adcc6b9e9d5ea660d472b7d1663ee7805"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function wrytes a byte(00001000) to the POWER_CTL register to put the sensor in measure mode by making bit D3 high.  <a href="#adcc6b9e9d5ea660d472b7d1663ee7805">More...</a><br /></td></tr>
<tr class="separator:adcc6b9e9d5ea660d472b7d1663ee7805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac303fdfe31def42ab7420118623362ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#ac303fdfe31def42ab7420118623362ff">set_standby_mode</a> ()</td></tr>
<tr class="memdesc:ac303fdfe31def42ab7420118623362ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the sensor back in standby mode by clearing bit D3 in the POWER_CTL register.  <a href="#ac303fdfe31def42ab7420118623362ff">More...</a><br /></td></tr>
<tr class="separator:ac303fdfe31def42ab7420118623362ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2831d691889e3355d475377bdcd5eab8"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#a2831d691889e3355d475377bdcd5eab8">read_axis_raw</a> (const uint8_t &amp;axis_register_address_1, const uint8_t &amp;axis_register_address_2)</td></tr>
<tr class="memdesc:a2831d691889e3355d475377bdcd5eab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The data for the axis are stored in 2 registers, this function reads both and returns that data.  <a href="#a2831d691889e3355d475377bdcd5eab8">More...</a><br /></td></tr>
<tr class="separator:a2831d691889e3355d475377bdcd5eab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9450118b5feb17d5c801f94b715859a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#a9450118b5feb17d5c801f94b715859a5">read_axis_2g</a> (const uint8_t &amp;axis_register_address_1, const uint8_t &amp;axis_register_address_2)</td></tr>
<tr class="memdesc:a9450118b5feb17d5c801f94b715859a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does the same as the read_axis_raw function but converts the data to -+2g.  <a href="#a9450118b5feb17d5c801f94b715859a5">More...</a><br /></td></tr>
<tr class="separator:a9450118b5feb17d5c801f94b715859a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af9bc040cd6de507fa3c63a83260765"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_x_l345.html#a1af9bc040cd6de507fa3c63a83260765">read_all_axis_2g</a> (int axis_data[3])</td></tr>
<tr class="memdesc:a1af9bc040cd6de507fa3c63a83260765"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads all 3 axis and returns an array containing the data from all 3 axis.  <a href="#a1af9bc040cd6de507fa3c63a83260765">More...</a><br /></td></tr>
<tr class="separator:a1af9bc040cd6de507fa3c63a83260765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classi2c__ipass"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classi2c__ipass')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classi2c__ipass.html">i2c_ipass</a></td></tr>
<tr class="memitem:ac49b5dd687a76774cac9398f6d278040 inherit pub_methods_classi2c__ipass"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classi2c__ipass.html#ac49b5dd687a76774cac9398f6d278040">i2c_ipass</a> (const hwlib::i2c_bus_bit_banged_scl_sda &amp;i2c_bus)</td></tr>
<tr class="memdesc:ac49b5dd687a76774cac9398f6d278040 inherit pub_methods_classi2c__ipass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for an <a class="el" href="classi2c__ipass.html">i2c_ipass</a> object.  <a href="classi2c__ipass.html#ac49b5dd687a76774cac9398f6d278040">More...</a><br /></td></tr>
<tr class="separator:ac49b5dd687a76774cac9398f6d278040 inherit pub_methods_classi2c__ipass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59c7bbe957598148605a211577e55d7 inherit pub_methods_classi2c__ipass"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classi2c__ipass.html#ae59c7bbe957598148605a211577e55d7">write</a> (const uint8_t &amp;register_address, const uint8_t &amp;device_id, const uint8_t &amp;data)</td></tr>
<tr class="memdesc:ae59c7bbe957598148605a211577e55d7 inherit pub_methods_classi2c__ipass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an uint8_t variable to a register from the given module.  <a href="classi2c__ipass.html#ae59c7bbe957598148605a211577e55d7">More...</a><br /></td></tr>
<tr class="separator:ae59c7bbe957598148605a211577e55d7 inherit pub_methods_classi2c__ipass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c5cdecbedc75ade3e22ae3229d089a inherit pub_methods_classi2c__ipass"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classi2c__ipass.html#a46c5cdecbedc75ade3e22ae3229d089a">read</a> (const uint8_t &amp;register_address, const uint8_t &amp;device_id)</td></tr>
<tr class="memdesc:a46c5cdecbedc75ade3e22ae3229d089a inherit pub_methods_classi2c__ipass"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and returns an uint8_t variable from the given module.  <a href="classi2c__ipass.html#a46c5cdecbedc75ade3e22ae3229d089a">More...</a><br /></td></tr>
<tr class="separator:a46c5cdecbedc75ade3e22ae3229d089a inherit pub_methods_classi2c__ipass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3f24a0c258b40d1b6c54261acc6e79a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f24a0c258b40d1b6c54261acc6e79a5">&#9670;&nbsp;</a></span>ADXL345()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADXL345::ADXL345 </td>
          <td>(</td>
          <td class="paramtype">const hwlib::i2c_bus_bit_banged_scl_sda &amp;&#160;</td>
          <td class="paramname"><em>i2c_bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>x_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>y_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>z_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the constructor for an <a class="el" href="class_a_d_x_l345.html">ADXL345</a> object. </p>
<p>Example: <a class="el" href="class_a_d_x_l345.html">ADXL345</a> accelerometer(i2c_bus, 0x53, -5, 4, 8, 1);</p>
<p>The first variable is an hwlib::i2c_bus_bit_banged_scl_sda object. The second variable is the uint8_t device_id of the sensor The third variable is an int for the x_offset register The fourth variable is an int for the y_offset register The fifth variable is an int for the z_offset register Those variables are used to calibrate the sensor in the setup function </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1af9bc040cd6de507fa3c63a83260765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af9bc040cd6de507fa3c63a83260765">&#9670;&nbsp;</a></span>read_all_axis_2g()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* ADXL345::read_all_axis_2g </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>axis_data</em>[3]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads all 3 axis and returns an array containing the data from all 3 axis. </p>
<p>Example: int axis_data[3]; Example: ADXL345.read_all_axis_2g(axis_data);</p>
<p>This function requires an int array that is 3 long. It reads the 3 axis data and puts it in the array and returns that array. Do keep in mind that this function uses the read_axis_2g function and not the raw data version. </p>

</div>
</div>
<a id="a9450118b5feb17d5c801f94b715859a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9450118b5feb17d5c801f94b715859a5">&#9670;&nbsp;</a></span>read_axis_2g()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADXL345::read_axis_2g </td>
          <td>(</td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>axis_register_address_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>axis_register_address_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function does the same as the read_axis_raw function but converts the data to -+2g. </p>
<p>Since the data for the axis are stored in 2 registers the function requires them both as variable. Both are const uint8_t variable. It returns an intvariable which contains the combined data from the 2 registers but is also converted to -+2g.</p>
<p>Hwlib cannot print floats therefore the data has been multiplied with 100 so that instead of -1.00 to 1.00 we have -100 to 100. </p>

</div>
</div>
<a id="a2831d691889e3355d475377bdcd5eab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2831d691889e3355d475377bdcd5eab8">&#9670;&nbsp;</a></span>read_axis_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ADXL345::read_axis_raw </td>
          <td>(</td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>axis_register_address_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t &amp;&#160;</td>
          <td class="paramname"><em>axis_register_address_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The data for the axis are stored in 2 registers, this function reads both and returns that data. </p>
<p>Example read_axis_2g(DATAX0,DATAX1);</p>
<p>Since the data for the axis are stored in 2 registers the function requires them both as variable. Both are const uint8_t variable. It returns an int16-t variable which contains the combined data from the 2 registers. </p>

</div>
</div>
<a id="adcc6b9e9d5ea660d472b7d1663ee7805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc6b9e9d5ea660d472b7d1663ee7805">&#9670;&nbsp;</a></span>set_measuring_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADXL345::set_measuring_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function wrytes a byte(00001000) to the POWER_CTL register to put the sensor in measure mode by making bit D3 high. </p>
<p>Example: ADXL345_object.set_measuring_mode();</p>
<p>There is no need to give it any variable since this function will always turn on the same bit in the same register. You can also skip this function and use the <a class="el" href="classi2c__ipass.html">i2c_ipass</a> write directly by using i2c_ipass.write(POWER_CTL, device_id, 8); </p>

</div>
</div>
<a id="ac303fdfe31def42ab7420118623362ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac303fdfe31def42ab7420118623362ff">&#9670;&nbsp;</a></span>set_standby_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADXL345::set_standby_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the sensor back in standby mode by clearing bit D3 in the POWER_CTL register. </p>
<p>Example: ADXL345_object.set_standby_mode();</p>
<p>It requires no variable since it always clears the same bit.</p>
<p>This function only wants to set bit D3 low So in order to not touch any of the other bits it reads the current data from the register. It then ands that with 11110111 ensuring that the that aren't D3 and are set stay set. </p>

</div>
</div>
<a id="a762c890b72f430c8a138a70222691c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762c890b72f430c8a138a70222691c70">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADXL345::setup </td>
          <td>(</td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>start_in_measure_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function writes the offset data to the offset registers and can put the sensor in measure mode base on the start_in_measure_mode varible. </p>
<p>Example: ADXL345_object.setup();</p>
<p>The offset variable and the start_in_measure_mode are stored inside the object itsels so there is no need to give them to the function as variable. It writes the offset variable to the correct register so that the sensor is calibrated correctly whenever this function is called. And if set_in_measure_mode is true it also executes the set_measuring_mode function to put the device straight into measure mode. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_a_d_x_l345_8hpp_source.html">ADXL345.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 4 2019 08:43:10 for IPASS Dylan Griffioen by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
